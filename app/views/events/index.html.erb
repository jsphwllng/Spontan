
<div class="container">
<h1 style="color:white">Index for all events</h1>
<br>

<div class="d-flex justify-content-center" style="margin-bottom: 10px;">
		<div class="searchbar-keyword">
			<%= form_tag events_path, method: :get do %>
			<%= text_field_tag :query_event,
			params[:query_event],
			class: "form-control form-start",
				placeholder: "By Keyword"%>
			</div>
			<div class="searchbar-range">
				<%= select_tag :query_location, options_for_select(([['Range', 0],['2 Km', 2], ['5 Km', 5], ['10 Km', 10], ['25 Km', 25]]),
				params[:query_location]), {class: 'form-control form-middle', placeholder: "Range"}	%>
			</div>

			<div class="searchbar-category">
				<%= select_tag :query_category, options_for_select((["sports", "party", "drinking", "social", "yoga", "spiritual", "dancing", "misc", "studying", "political", "food", "board games", "culture"]),
				params[:query_category]), {class: 'form-control form-end', placeholder: "Category", prompt: "Category"}	%>
			</div>
				<%= submit_tag "Whatever", class: "searchbar-submit-button" %>
				<% end %>
			</div>
		</div>


		<!-- map -->
		<br>
		<div id="map"
		style="width: 100%; height: 350px;"
		data-markers="<%= @markers.to_json %>"
		data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY'] %>"></div>

		<!-- cards -->
		<div class="d-flex flex-wrap justify-content-around">
			<% @events.each do |event| %>
			<% if event.date > DateTime.now  %>
			<div class="card text-white bg-dark mb-3" style="max-width: 18rem;">
				<div class="card-header">
					<%= event.title %>
				</div>
				<div class="card-body">
					<h5 class="card-title">
						<%= event.category %>
					</h5>
					<p class="card-text">
						<%= event.location %>
					</p>
					<%= link_to "view event", event_path(event), class:"btn btn-primary"%>
				</div>
			</div>

			<% end %>
			<% end %>
		</div>
</div>
